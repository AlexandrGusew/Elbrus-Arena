# –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ BattleArena - —Å—Ç–∏–ª—å Figma —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞

## üéØ –¶–µ–ª—å
–ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç BattleArena –ø–æ–¥ —Å—Ç–∏–ª—å Figma-—Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞ BattlePage —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–π –∏–≥—Ä–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏.

---

## ‚úÖ –ß—Ç–æ –û–°–¢–ê–í–õ–Ø–ï–ú –∏–∑ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏

1. **–ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ –±–ª–æ–∫–∏** –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (220x220px) —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∞—Ç–∞–∫
2. **–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –∞—Ä–µ–Ω—ã (PvE-arena.png)
3. **–ê–Ω–∞—Ç–æ–º–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–æ–Ω** (head, body, legs, arms, back)
4. **–ê–Ω–∏–º–∞—Ü–∏–∏ –∞—Ç–∞–∫** –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (–≤–∏–¥–µ–æ)
5. **–¢–∞–π–º–µ—Ä** –Ω–∞ 15 —Å–µ–∫—É–Ω–¥
6. **–õ–æ–≥–∏–∫–∞ –±–æ—è** - –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üîÑ –ß—Ç–æ –ú–ï–ù–Ø–ï–ú

### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ layout (3 flex –∫–æ–ª–æ–Ω–∫–∏):

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [Music] [Chat] [Back]                      (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)     ‚îÇ
‚îÇ              LEVEL DANGE 1/5 (—Å–≤–µ—Ä—Ö—É –ø–æ —Ü–µ–Ω—Ç—Ä—É)             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                ‚îÇ    ‚îÇ                                        ‚îÇ
‚îÇ    PLAYER      ‚îÇ ‚è±  ‚îÇ      MOB                              ‚îÇ
‚îÇ  [CLASS|NAME|  ‚îÇ    ‚îÇ    [NAME]                             ‚îÇ
‚îÇ     LVL]       ‚îÇ    ‚îÇ   [HP –±–∞—Ä]                            ‚îÇ
‚îÇ   [HP –±–∞—Ä]     ‚îÇ    ‚îÇ   [220x220 –∫–≤–∞–¥—Ä–∞—Ç —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π]       ‚îÇ
‚îÇ [220x220 ‚ñ°]    ‚îÇFIGHT‚îÇ   ‚îå‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚îê                          ‚îÇ
‚îÇ   ‚îå‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚îê   ‚îÇ    ‚îÇ   ‚îÇ1‚îÇ2‚îÇ3‚îÇ4‚îÇ ATTACK                   ‚îÇ
‚îÇ   ‚îÇ1‚îÇ2‚îÇ3‚îÇ4‚îÇ   ‚îÇ    ‚îÇ   ‚îî‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚îò                          ‚îÇ
‚îÇ   ‚îî‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚îò   ‚îÇ    ‚îÇ                                        ‚îÇ
‚îÇ     DEF        ‚îÇ    ‚îÇ                                        ‚îÇ
‚îÇ                ‚îÇ    ‚îÇ                                        ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ     CHAT       ‚îÇ    ‚îÇ  BATTLE LOG                           ‚îÇ
‚îÇ  [4 –≤–∫–ª–∞–¥–∫–∏]   ‚îÇ    ‚îÇ   [–∑–∞–ø–∏—Å–∏ –±–æ—è]                        ‚îÇ
‚îÇ  - ALL         ‚îÇ    ‚îÇ   - –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—É–Ω–¥–æ–≤                   ‚îÇ
‚îÇ  - PRIVAT      ‚îÇ    ‚îÇ   - –£—Ä–æ–Ω                              ‚îÇ
‚îÇ  - BANLIST     ‚îÇ    ‚îÇ   - –°–æ–±—ã—Ç–∏—è                           ‚îÇ
‚îÇ  - FRINDLIST   ‚îÇ    ‚îÇ                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### **–®–ê–ì 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ZoneBlocks**
**–§–∞–π–ª:** `frontend/src/components/battle/ZoneBlocks.tsx`

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è 4 –±–ª–æ–∫–æ–≤ –∑–æ–Ω
- [ ] Props:
  - `type: 'defense' | 'attack'`
  - `zones: Zone[]` - –º–∞—Å—Å–∏–≤ –∑–æ–Ω (head, body, legs, arms)
  - `selectedZones: Zone[]` - –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–æ–Ω—ã
  - `lastRoundResult?: { playerHits, monsterHits, etc }` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—É–Ω–¥–∞
  - `onToggle?: (zone: Zone) => void` - –¥–ª—è –≤—ã–±–æ—Ä–∞ –∑–æ–Ω –∑–∞—â–∏—Ç—ã
  - `waitingForResult: boolean`

**–õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**

**–î–ª—è –∑–∞—â–∏—Ç—ã (DEF - –ø–æ–¥ –∏–≥—Ä–æ–∫–æ–º):**
1. **–î–æ –∞—Ç–∞–∫–∏**:
   - –ò–≥—Ä–æ–∫ –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –±–ª–æ–∫–∏ ‚Üí –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω–∏–º/–∑–µ–ª–µ–Ω—ã–º (–≤—ã–±—Ä–∞–Ω–æ 3 –∏–∑ 4)
   - –ù–µ–≤—ã–±—Ä–∞–Ω–Ω—ã–µ - —Ç–µ–º–Ω—ã–µ

2. **–ü–æ—Å–ª–µ –∞—Ç–∞–∫–∏ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—É–Ω–¥–∞):**
   - ‚úÖ –ó–∞—â–∏—Ç–∏–ª —É—Å–ø–µ—à–Ω–æ (–º–æ–Ω—Å—Ç—Ä –∞—Ç–∞–∫–æ–≤–∞–ª —ç—Ç—É –∑–æ–Ω—É) ‚Üí **–∑–µ–ª–µ–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞** `#4CAF50`
   - ‚ö™ –ù–µ –∞—Ç–∞–∫–æ–≤–∞–ª–∏ ‚Üí –æ–±—ã—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
   - ‚ùå –ù–µ –∑–∞—â–∏—Ç–∏–ª (–º–æ–Ω—Å—Ç—Ä –∞—Ç–∞–∫–æ–≤–∞–ª, –Ω–æ –∑–æ–Ω–∞ –Ω–µ –±—ã–ª–∞ –∑–∞—â–∏—â–µ–Ω–∞) ‚Üí –Ω–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫–∏

**–î–ª—è –∞—Ç–∞–∫–∏ (ATTACK - –ø–æ–¥ –º–æ–Ω—Å—Ç—Ä–æ–º):**
1. **–ü–æ—Å–ª–µ –∞—Ç–∞–∫–∏** –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–æ–Ω—ã –∫–æ—Ç–æ—Ä—ã–µ –∞—Ç–∞–∫–æ–≤–∞–ª –º–æ–Ω—Å—Ç—Ä:
   - ‚ùå –ü–æ–ø–∞–ª –≤ –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—É—é ‚Üí **–∫—Ä–∞—Å–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ + –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ–¥—ä–µ–º–∞** `translateY(-8px)` + `#f44336`
   - üõ°Ô∏è –ü–æ–ø–∞–ª –≤ –∑–∞—â–∏—â–µ–Ω–Ω—É—é ‚Üí **—Å–µ—Ä–∞—è/—Å–∏–Ω—è—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ + –Ω–∞ –º–µ—Å—Ç–µ** `#9E9E9E`

**–°—Ç–∏–ª–∏:**
```typescript
// –ë–∞–∑–æ–≤—ã–π —Å—Ç–∏–ª—å –±–ª–æ–∫–∞
{
  width: 'calc(25% - 6px)', // 4 –±–ª–æ–∫–∞ –≤ —Ä—è–¥ —Å gap
  aspectRatio: '1',
  border: '3px solid #2C2D33',
  borderRadius: '8px',
  background: '#111215',
  cursor: type === 'defense' ? 'pointer' : 'default',
  transition: 'all 0.3s ease',
  display: 'flex',
  alignItems: 'center',
  justifyContent: 'center',
}

// –°–æ—Å—Ç–æ—è–Ω–∏—è
- –í—ã–±—Ä–∞–Ω: border: '3px solid #4CAF50'
- –£—Å–ø–µ—à–Ω–∞—è –∑–∞—â–∏—Ç–∞: background: 'rgba(76, 175, 80, 0.3)'
- –£—Å–ø–µ—à–Ω–∞—è –∞—Ç–∞–∫–∞ –≤ –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω–æ–µ: background: 'rgba(244, 67, 54, 0.3)', transform: 'translateY(-8px)'
- –ê—Ç–∞–∫–∞ –≤ –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ: background: 'rgba(158, 158, 158, 0.3)'
```

**–ú–∞–ø–ø–∏–Ω–≥ –∑–æ–Ω:**
```typescript
const ZONE_LABELS: Record<Zone, string> = {
  head: 'HEAD',
  body: 'BODY',
  legs: 'LEGS',
  arms: 'ARMS',
  back: 'BACK', // –¥–ª—è Shadow Dancer
};

const ZONE_NUMBERS: Record<Zone, number> = {
  head: 1,
  body: 2,
  legs: 3,
  arms: 4,
  back: 5, // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
};
```

---

### **–®–ê–ì 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ChatStub**
**–§–∞–π–ª:** `frontend/src/components/battle/ChatStub.tsx`

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É —á–∞—Ç–∞ –ø–æ –¥–∏–∑–∞–π–Ω—É –∏–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞
- [ ] 4 –≤–∫–ª–∞–¥–∫–∏: ALL, PRIVAT, BANLIST, FRINDLIST
- [ ] State –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
- [ ] –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —Å —Ç–µ–∫—Å—Ç–æ–º "CHAT"

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```tsx
<div style={{
  border: '4px solid #2C2D33',
  borderRadius: '10px',
  background: '#1A1B21',
  height: '240px',
  display: 'flex',
  flexDirection: 'column'
}}>
  {/* –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å */}
  <div style={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
    <span style={{ fontSize: '24px', color: 'rgba(230, 230, 230, 0.2)' }}>CHAT</span>
  </div>

  {/* –í–∫–ª–∞–¥–∫–∏ */}
  <div style={{
    display: 'grid',
    gridTemplateColumns: 'repeat(4, 1fr)',
    gap: '8px',
    padding: '12px',
    borderTop: '2px solid #2C2D33'
  }}>
    {/* 4 –∫–Ω–æ–ø–∫–∏ –≤–∫–ª–∞–¥–æ–∫ */}
  </div>
</div>
```

---

### **–®–ê–ì 3: –ê–¥–∞–ø—Ç–∞—Ü–∏—è DetailedBattleLog**
**–§–∞–π–ª:** `frontend/src/components/battle/DetailedBattleLog.tsx`

**–ó–∞–¥–∞—á–∏:**
- [ ] –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –¥–∏–∑–∞–π–Ω —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ "LOGA FIGHT"
- [ ] –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤—ã—Å–æ—Ç—É (240px) –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–æ–ª–ª
- [ ] –°—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```tsx
<div style={{
  border: '4px solid #2C2D33',
  borderRadius: '10px',
  background: '#1A1B21',
  height: '240px',
  display: 'flex',
  flexDirection: 'column'
}}>
  {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
  <div style={{ borderBottom: '2px solid #2C2D33', padding: '8px' }}>
    <span>LOGA FIGHT</span>
  </div>

  {/* –ö–æ–Ω—Ç–µ–Ω—Ç —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π */}
  <div style={{ flex: 1, overflowY: 'auto', padding: '12px' }}>
    {/* –ó–∞–ø–∏—Å–∏ –ª–æ–≥–∞ */}
  </div>
</div>
```

---

### **–®–ê–ì 4: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ BattleArena - Layout**
**–§–∞–π–ª:** `frontend/src/components/battle/BattleArena.tsx`

**–ó–∞–¥–∞—á–∏:**
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å `position: fixed` –±–ª–æ–∫–æ–≤ –Ω–∞ `flex` layout
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é —Å–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞ (Music, Chat, Back)
- [ ] –°–æ–∑–¥–∞—Ç—å 3 flex –∫–æ–ª–æ–Ω–∫–∏

**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```tsx
return (
  <div style={{ position: 'relative', width: '100vw', height: '100vh', overflow: 'hidden' }}>
    {/* –§–æ–Ω –∞—Ä–µ–Ω—ã - –û–°–¢–ê–í–õ–Ø–ï–ú */}
    <div style={{ position: 'fixed', ... }} />

    {/* –ù–∞–≤–∏–≥–∞—Ü–∏—è - –î–û–ë–ê–í–õ–Ø–ï–ú */}
    <div style={{ position: 'fixed', top: '24px', right: '24px', zIndex: 1000 }}>
      <button>Music</button>
      <button>Chat</button>
      <button>Back</button>
    </div>

    {/* –ë–µ–π–¥–∂ —É—Ä–æ–≤–Ω—è —Å–≤–µ—Ä—Ö—É –ø–æ —Ü–µ–Ω—Ç—Ä—É */}
    <div style={{ position: 'fixed', top: '20px', left: '50%', transform: 'translateX(-50%)' }}>
      LEVEL DANGE {currentMonster}/{totalMonsters}
    </div>

    {/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç - 3 –ö–û–õ–û–ù–ö–ò */}
    <div style={{
      position: 'fixed',
      top: '80px',
      left: 0,
      right: 0,
      bottom: 0,
      display: 'flex',
      gap: '24px',
      padding: '0 24px 24px 24px'
    }}>

      {/* –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –ò–≥—Ä–æ–∫ + –ß–∞—Ç */}
      <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '16px' }}>

        {/* –ò–ì–†–û–ö - flex-1 —á—Ç–æ–±—ã –∑–∞–Ω—è—Ç—å –≤–µ—Ä—Ö–Ω—é—é —á–∞—Å—Ç—å */}
        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>
          {/* –ò–Ω—Ñ–æ –ø–∞–Ω–µ–ª—å */}
          <div style={{ ... }}>
            CLASS: {character.class} | NAME: {character.name} | LVL: {character.level}
          </div>

          {/* HP –±–∞—Ä */}
          <div style={{ ... }}>HP –±–∞—Ä –∏–≥—Ä–æ–∫–∞</div>

          {/* –ö–≤–∞–¥—Ä–∞—Ç —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º */}
          <div style={{ width: '220px', height: '220px', ... }}>
            {/* –≤–∏–¥–µ–æ –∏–ª–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞ */}
          </div>

          {/* –ë–ª–æ–∫–∏ –∑–∞—â–∏—Ç—ã */}
          <ZoneBlocks
            type="defense"
            zones={ZONES}
            selectedZones={selectedDefenses}
            lastRoundResult={lastRoundResults}
            onToggle={toggleDefense}
            waitingForResult={waitingForResult}
          />
        </div>

        {/* –ß–ê–¢ –≤–Ω–∏–∑—É - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ 240px */}
        <ChatStub />
      </div>

      {/* –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ö–û–õ–û–ù–ö–ê - –¢–∞–π–º–µ—Ä + FIGHT (—É–∑–∫–∞—è) */}
      <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', gap: '24px', padding: '0 16px' }}>
        {/* –¢–∞–π–º–µ—Ä */}
        <div style={{ ... }}>
          ‚è±Ô∏è {timeLeft}—Å
        </div>

        {/* –ö–Ω–æ–ø–∫–∞ FIGHT */}
        <button onClick={submitActions} style={{ ... }}>
          ‚öîÔ∏è FIGHT
        </button>
      </div>

      {/* –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –ú–æ–Ω—Å—Ç—Ä + –õ–æ–≥ –±–æ—è */}
      <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '16px' }}>

        {/* –ú–û–ù–°–¢–† - flex-1 —á—Ç–æ–±—ã –∑–∞–Ω—è—Ç—å –≤–µ—Ä—Ö–Ω—é—é —á–∞—Å—Ç—å */}
        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>
          {/* –ò–Ω—Ñ–æ –º–æ–±–∞ */}
          <div style={{ ... }}>
            {getMobName(battleState.currentMonster || 1, dungeonId)}
          </div>

          {/* HP –±–∞—Ä */}
          <div style={{ ... }}>HP –±–∞—Ä –º–æ–±–∞</div>

          {/* –ö–≤–∞–¥—Ä–∞—Ç —Å –º–æ–Ω—Å—Ç—Ä–æ–º */}
          <div style={{ width: '220px', height: '220px', ... }}>
            {/* –≤–∏–¥–µ–æ –∏–ª–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞ */}
          </div>

          {/* –ë–ª–æ–∫–∏ –∞—Ç–∞–∫–∏ */}
          <ZoneBlocks
            type="attack"
            zones={ZONES}
            selectedZones={[]} // –º–æ–Ω—Å—Ç—Ä –Ω–µ –≤—ã–±–∏—Ä–∞–µ—Ç, —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            lastRoundResult={lastRoundResults}
            waitingForResult={waitingForResult}
          />
        </div>

        {/* –õ–û–ì –ë–û–Ø –≤–Ω–∏–∑—É - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ 240px */}
        <DetailedBattleLog roundResults={roundHistory} />
      </div>

    </div>
  </div>
);
```

---

### **–®–ê–ì 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤—ã–±–æ—Ä–∞ –∑–æ–Ω**

**–ó–∞–¥–∞—á–∏:**
- [ ] –£–±—Ä–∞—Ç—å —Ç–µ–∫—É—â–∏–µ `ZoneSelector` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `toggleDefense` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å 4 –±–ª–æ–∫–∞–º–∏
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞: –±—ã–ª–æ head/body/legs/arms/back ‚Üí —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–≤—ã–µ 4

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–≥–∏–∫–µ:**
```typescript
// –ë—ã–ª–æ
const ZONES_4: Zone[] = ['head', 'body', 'legs', 'arms'];
const ZONES_5: Zone[] = ['head', 'body', 'legs', 'arms', 'back'];

// –û—Å—Ç–∞–µ—Ç—Å—è —Ç–∞–∫ –∂–µ, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ-–¥—Ä—É–≥–æ–º—É
// –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π - 4 –∑–æ–Ω—ã
// –î–ª—è Shadow Dancer - 5 –∑–æ–Ω

const toggleDefense = (zone: Zone) => {
  if (selectedDefenses.includes(zone)) {
    setSelectedDefenses(selectedDefenses.filter(z => z !== zone));
  } else if (selectedDefenses.length < 3) {
    setSelectedDefenses([...selectedDefenses, zone]);
  }
};

// –ê—Ç–∞–∫–∏ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ (2 –∏–∑ 4/5)
```

---

### **–®–ê–ì 6: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—É–Ω–¥–∞**

**–ó–∞–¥–∞—á–∏:**
- [ ] –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å `lastRoundResults` –¥–ª—è –Ω–æ–≤–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –±–ª–æ–∫–æ–≤

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
```typescript
const lastRoundResults = useMemo(() => {
  if (!battleState.lastRoundResult) {
    return {
      // –î–ª—è –±–ª–æ–∫–æ–≤ –∑–∞—â–∏—Ç—ã
      defendedSuccessfully: [], // –∑–æ–Ω—ã –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—â–∏—Ç–∏–ª–∏ —É—Å–ø–µ—à–Ω–æ
      notAttacked: [], // –∑–æ–Ω—ã –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∞—Ç–∞–∫–æ–≤–∞–ª–∏

      // –î–ª—è –±–ª–æ–∫–æ–≤ –∞—Ç–∞–∫–∏
      hitUndefended: [], // –ø–æ–ø–∞–ª–∏ –≤ –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã
      hitDefended: [], // –ø–æ–ø–∞–ª–∏ –≤ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã

      damageDealt: 0,
      damageTaken: 0,
    };
  }

  const { playerActions, monsterActions, monsterDamage, playerDamage } = battleState.lastRoundResult;

  return {
    defendedSuccessfully: playerActions.defenses.filter(zone =>
      monsterActions.attacks.includes(zone)
    ),
    notAttacked: playerActions.defenses.filter(zone =>
      !monsterActions.attacks.includes(zone)
    ),
    hitUndefended: monsterActions.attacks.filter(zone =>
      !playerActions.defenses.includes(zone)
    ),
    hitDefended: monsterActions.attacks.filter(zone =>
      playerActions.defenses.includes(zone)
    ),
    damageDealt: monsterDamage,
    damageTaken: playerDamage,
  };
}, [battleState.lastRoundResult]);
```

---

### **–®–ê–ì 7: –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –∫–Ω–æ–ø–∫–∏**

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞
- [ ] Music - toggleMusic (–µ—Å–ª–∏ –µ—Å—Ç—å –º—É–∑—ã–∫–∞)
- [ ] Chat - –æ—Ç–∫—Ä—ã—Ç–∏–µ —á–∞—Ç–∞ (–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞)
- [ ] Back - –≤–æ–∑–≤—Ä–∞—Ç –∫ –≤—ã–±–æ—Ä—É –ø–æ–¥–∑–µ–º–µ–ª—å—è (onReset)

```tsx
<div style={{
  position: 'fixed',
  top: '24px',
  right: '24px',
  display: 'flex',
  gap: '8px',
  zIndex: 1000,
}}>
  <button style={{ /* —Å—Ç–∏–ª—å –∏–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞ */ }}>Music</button>
  <button style={{ /* —Å—Ç–∏–ª—å –∏–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞ */ }}>Chat</button>
  <button onClick={onReset} style={{ /* —Å—Ç–∏–ª—å –∏–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞ */ }}>Back</button>
</div>
```

---

### **–®–ê–ì 8: –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å**

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞
  - –§–æ–Ω –±–ª–æ–∫–æ–≤: `#111215`, `#1A1B21`
  - –ë–æ—Ä–¥–µ—Ä—ã: `#2C2D33`
  - –ê–∫—Ü–µ–Ω—Ç—ã: `#B21E2C` (–∫—Ä–∞—Å–Ω—ã–π)
- [ ] –®—Ä–∏—Ñ—Ç—ã: `fontFamily: 'serif'`
- [ ] –¢–µ–Ω–∏: `boxShadow: 'inset 0 2px 4px rgba(0,0,0,0.6)'`

---

### **–®–ê–ì 9: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

**–ó–∞–¥–∞—á–∏:**
- [ ] –£–¥–∞–ª–∏—Ç—å –∏–º–ø–æ—Ä—Ç `EnemyActions`
- [ ] –£–¥–∞–ª–∏—Ç—å –∏–º–ø–æ—Ä—Ç —Å—Ç–∞—Ä—ã—Ö `ZoneSelector` (–∏–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å)
- [ ] –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥

---

### **–®–ê–ì 10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [ ] –í—ã–±–æ—Ä 3 –∑–æ–Ω –∑–∞—â–∏—Ç—ã –∏–∑ 4
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—É–Ω–¥–∞ (–ø–æ–¥—Å–≤–µ—Ç–∫–∞ –±–ª–æ–∫–æ–≤)
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –±–ª–æ–∫–æ–≤ –∞—Ç–∞–∫–∏ (–ø–æ–¥—ä–µ–º –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏)
- [ ] –†–∞–±–æ—Ç–∞ —Ç–∞–π–º–µ—Ä–∞ 15 —Å–µ–∫—É–Ω–¥
- [ ] –†–∞–±–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ FIGHT
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–¥–∑–µ–º–µ–ª—å—è
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –º–æ–Ω—Å—Ç—Ä—É
- [ ] –ü–æ–±–µ–¥–∞/–ø–æ—Ä–∞–∂–µ–Ω–∏–µ
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

```
frontend/src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ battle/
‚îÇ       ‚îú‚îÄ‚îÄ BattleArena.tsx          (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - –†–ï–§–ê–ö–¢–û–†–ò–ù–ì)
‚îÇ       ‚îú‚îÄ‚îÄ ZoneBlocks.tsx           (–ù–û–í–´–ô - –±–ª–æ–∫–∏ –∞—Ç–∞–∫–∏/–∑–∞—â–∏—Ç—ã)
‚îÇ       ‚îú‚îÄ‚îÄ ChatStub.tsx             (–ù–û–í–´–ô - –∑–∞–≥–ª—É—à–∫–∞ —á–∞—Ç–∞)
‚îÇ       ‚îú‚îÄ‚îÄ DetailedBattleLog.tsx    (–∞–¥–∞–ø—Ç–∞—Ü–∏—è)
‚îÇ       ‚îú‚îÄ‚îÄ DifficultySelector.tsx   (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
‚îÇ       ‚îî‚îÄ‚îÄ DungeonProgress.tsx      (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

---

## üé® –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞

1. ‚úÖ **–ö–≤–∞–¥—Ä–∞—Ç—ã –≤–º–µ—Å—Ç–æ –∫—Ä—É–≥–æ–≤** –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
2. ‚úÖ **–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –≤–º–µ—Å—Ç–æ —Ç–µ–º–Ω–æ–≥–æ —Ñ–æ–Ω–∞
3. ‚úÖ **–ê–Ω–∞—Ç–æ–º–∏—á–µ—Å–∫–∏–µ –∑–æ–Ω—ã** (head/body/legs/arms) –≤–º–µ—Å—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö 1-4
4. ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏–∏ –∞—Ç–∞–∫** –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
5. ‚úÖ **–¢–∞–π–º–µ—Ä 15 —Å–µ–∫—É–Ω–¥** –≤–º–µ—Å—Ç–æ –±–∞–∑–æ–≤–æ–≥–æ "TIMER"

---

## ‚è±Ô∏è –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

- **–®–ê–ì 1** (ZoneBlocks): 2-3 —á–∞—Å–∞
- **–®–ê–ì 2** (ChatStub): 30 –º–∏–Ω—É—Ç
- **–®–ê–ì 3** (BattleLog): 30 –º–∏–Ω—É—Ç
- **–®–ê–ì 4** (Layout): 2-3 —á–∞—Å–∞
- **–®–ê–ì 5** (–õ–æ–≥–∏–∫–∞): 1 —á–∞—Å
- **–®–ê–ì 6** (–†–µ–∑—É–ª—å—Ç–∞—Ç—ã): 1-2 —á–∞—Å–∞
- **–®–ê–ì 7** (–ù–∞–≤–∏–≥–∞—Ü–∏—è): 30 –º–∏–Ω—É—Ç
- **–®–ê–ì 8** (–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è): 1-2 —á–∞—Å–∞
- **–®–ê–ì 9** (–û—á–∏—Å—Ç–∫–∞): 30 –º–∏–Ω—É—Ç
- **–®–ê–ì 10** (–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ): 1-2 —á–∞—Å–∞

**–ò—Ç–æ–≥–æ: 10-14 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã**

---

## üöÄ –ì–æ—Ç–æ–≤—ã –Ω–∞—á–∏–Ω–∞—Ç—å?

–ü—Ä–µ–¥–ª–∞–≥–∞—é –Ω–∞—á–∞—Ç—å —Å **–®–ê–ì 1** - —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `ZoneBlocks`, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç –Ω–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏.
